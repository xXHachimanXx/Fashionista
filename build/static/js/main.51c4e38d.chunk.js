(this.webpackJsonpfashionista=this.webpackJsonpfashionista||[]).push([[0],{29:function(e,t,a){e.exports=a(48)},34:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(17),o=a.n(n),u=(a(34),a(35),a(11)),i=a(3),s=a.n(i),l=a(6),_=a(5),d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdYAAAJSBAMAAACM/fk6AAAAG1BMVEX///+Wlpajo6O9vb3Kysrk5OSwsLDX19fx8fH5qNEFAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADVklEQVR4nO3XTU/jVhQG4EM+iJfYSQxLzFA0y0DVfUDqnozUqkuMqg7LZDPrQCt+d69NAiOR0TCVRk3T50Ey5p4D8htfX18iAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgO+v+MamL/YPRi/nnYN/fkHf0bdnrTb3PNy8nO961qvly/nOZP1lc89vn53vTNY32NqsVbeY/lrMo3+bDtGrJkU6fIzn8bapc3BRXj8Vq9RZzjsH9WmqfCrnq1oR9XV0j+KqHfmXU22Wrv32aliej2NW1GkprYtREedFPn8eb5s65bvzo1QcNllnRXXYKU/rSfTyarSqFbGYxt5xN68OtzjrTT+fDoZxPu8X0S+XH4r0w8Px83jb1CmWvWEqzpqs9XW/7JSxfxT377Nq2dZSz/1NzKaLSXayxVnnkS+zMi7StI39cfSK/eMYjJ/H26bOYWRltymmpvTM/pgG+qP0+cRi0tbS4P5BXF7fRiyutzfrsrn4Zs3p580dyYq9SWSjz8abrEfpmIr9Jmv1UzQDKWAdsXfT1tJXbxwnkebB/XR7s8ZTpv5tnsfeccp6n+f56Hk8ntamdGyLzfOav2tvXXMzo3Pc1po/MMqGWfrVfPuzLsqfq3Tl6XSWrne4IWtbTOPZp/ywmQBPWQ/WWeNsMO43WSdbnzXN2ap55tJ9nTSV11nbYrtv+qtIE7c/XM3hddbz7nHWrmVbn7WILI/uYQzaufpxQ9a0Ng2a/pP0QaQFqXe4WpvWWWeLSfPtcb71WavlY57u2/Kh6I3icbwha7qR++07Z57eOcVytn7nrLPu1fO4nGb1Fq/Dq0yXZ2V9F5dFWWRVkU83ZI3z3/9o+hdFNe6UzX7jaS+xzrqfp3931iNb6CVr2gB+eB+D+q6MP9s94uusvfqu6R/UZ9edozr1rPaIq6yD9DLOLrZ3j/ja0/LyNf+ZOF/W+yF6/5esg7QfHr+lcQeyRpW2Am/p24Wsj/npm/p2ISsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwK/4G4qJiOk0Wxi8AAAAASUVORK5CYII=",p=function(e){return{type:"SET_SEARCHED_PRODUCTS",data:e}},m=(a(41),function(){var e=Object(_.b)(),t=Object(_.c)((function(e){return e.cartReducer})).counter,a=function(){var t=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({type:"DRAWER_OPEN_SEARCH_CONTEXT",payload:!0});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({type:"DRAWER_OPEN_CART_CONTEXT",payload:!0});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("header",{className:"topbar","data-testid":"topbar"},c.a.createElement("div",{className:"app__container"},c.a.createElement(u.b,{to:"/",className:"topbar__logo"},c.a.createElement("img",{src:"https://logos-download.com/wp-content/uploads/2016/11/Fashionista_logo_black.png",alt:"Logo Fashionista"})),c.a.createElement("div",{className:"topbar__group"},c.a.createElement("button",{className:"topbar__icon--search",onClick:function(){return a()}},c.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})),c.a.createElement("button",{className:"topbar__icon--cart",onClick:function(){return r()}},c.a.createElement("i",{className:"xora fa fa-shopping-cart","aria-hidden":"true"},c.a.createElement("sup",{className:"counter"},c.a.createElement("span",{className:"counter__value"},t)))))))}),A=a(4),f=(a(43),function(e){var t=e.discount;return c.a.createElement("span",{className:"badge"},"-",t)}),E=function(e){var t=e.data;return c.a.createElement("div",{className:"product__card"},c.a.createElement(u.b,{to:"/produto/".concat(t.code_color)},c.a.createElement("figure",{className:"product__image"},t.discount_percentage&&c.a.createElement(f,{discount:t.discount_percentage}),c.a.createElement("img",{src:t.image?t.image:d,alt:t.name,title:t.name})),c.a.createElement("h3",{className:"product__name"},t.name),c.a.createElement("div",{className:"product__price"},""!==t.discount_percentage&&c.a.createElement("span",{className:"product__price product__price--regular"},t.regular_price),c.a.createElement("span",{className:"product__price product__price--actual"},t.actual_price))))},v=a(13),b=function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://5e9935925eabe7001681c856.mockapi.io/api/v1/catalog/");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(e){return{type:"FETCH_PRODUCTS_SUCCESS",payload:Object(v.a)(e)}},N=function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_PRODUCTS_PENDING",payload:void 0}),e.prev=1,e.next=4,b();case 4:a=e.sent,t(O(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_PRODUCTS_ERROR",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),h=(a(44),function(){var e=Object(_.b)(),t=Object(_.c)((function(e){return e.productsReducer})).products;return Object(r.useEffect)((function(){0===t.length&&N(e)}),[]),c.a.createElement("section",{className:"showcase"},c.a.createElement("div",{className:"app__container"},c.a.createElement("div",{className:"header__title"},"N\xfamero de produtos ",t.length)),c.a.createElement("div",{className:"app__container"},c.a.createElement("div",{className:"products__grid"},t.length>0&&t.map((function(e,t){return c.a.createElement(E,{key:t,data:e})})))))}),y=a(28),R=function(e){return{type:"ADD_PRODUCT",data:e}},g=function(e,t){return{type:"REMOVE_PRODUCT",product_id:e,product_size:t}},T=function(e,t,a){return{type:"UPDATE_CART_PRODUCT_QUANTITY",product_id:e,product_size:t,value:a}},S=function(e){return{type:"SET_PRODUCT_TO_BUY",payload:e}},C=(a(45),function(){var e=Object(_.c)((function(e){return e.productsReducer})).products,t=Object(_.c)((function(e){return e.productReducer})),a=Object(_.c)((function(e){return e.cartReducer})).cart,n=null===t.product_info?function(){return v.apply(this,arguments)}():t.product_info,o=Object(_.b)(),u=Object(A.f)().code_color,i=Object(r.useState)(!0),p=Object(y.a)(i,2),m=p[0],f=p[1],E=null===n?"NOT":n.size||null;function v(){return(v=Object(l.a)(s.a.mark((function t(){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(a=localStorage.getItem("@fashionista/product"))){t.next=9;break}return t.next=4,N(o);case 4:return t.next=6,e.find((function(e){return e.code_color===u}));case 6:a=t.sent,r=JSON.stringify(a),localStorage.setItem("@fashionista/product",r);case 9:return t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=Object(l.a)(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(S(n));case 2:if(null!==E&&"NOT"!==E){e.next=5;break}return f(!1),e.abrupt("return");case 5:if(!(r=a.find((function(e){return e.product_info.code_color===t.product_info.code_color&&e.product_info.size===t.product_info.size})))){e.next=11;break}return e.next=9,o(T(r.product_info.code_color,r.product_info.size,1));case 9:e.next=13;break;case 11:return e.next=13,o(R(t));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function t(){return(t=Object(l.a)(s.a.mark((function t(){var a,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o({type:"DRAWER_CLOSE",payload:!1}),0!==e.length&&null!==n){t.next=6;break}return null===(a=localStorage.getItem("@fashionista/product"))&&N(o),o(S(JSON.parse(a))),t.abrupt("return");case 6:r=e.find((function(e){return e.code_color===u})),o(S(r)),c=JSON.stringify(r),localStorage.setItem("@fashionista/product",c);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"app__container"},c.a.createElement("div",{className:"product__details"},c.a.createElement("figure",{className:"product__details__image"},c.a.createElement("img",{src:n.image||d,alt:"Produto VESTIDO TRANSPASSE BOW",title:"VESTIDO TRANSPASSE BOW"})),c.a.createElement("div",{className:"product__details__content"},c.a.createElement("h3",{className:"product__details__name"},n.name),c.a.createElement("div",{className:"product__details__price"},n.discount_percentage&&c.a.createElement("span",{className:"product__details__price product__details__price--from"},n.regular_price),c.a.createElement("span",{className:"product__details__price product__details__price--to"},n.actual_price),c.a.createElement("span",{className:"product__details__price product__details__price--installments"}," em at\xe9 ",n.installments)),c.a.createElement("div",{className:"product__details__sizes"},c.a.createElement("p",{className:"product__details__title"},"Escolha o tamanho:"),!m&&c.a.createElement("p",{className:"product__details__warning"},"\xc9 necess\xe1rio escolher um tamanho"),c.a.createElement("div",{className:"product__details__btnGroup"},n.sizes&&n.sizes.map((function(e,t){return c.a.createElement("button",{key:t,onClick:function(){o(function(e){return{type:"SET_SIZE_PRODUCT_TO_BUY",payload:e}}(e.size))},className:"".concat(E===e.size?"onClick":"sizeButton")},e.size)})))),c.a.createElement("div",{className:"product__details__actions"},c.a.createElement("button",{className:"product__details__addToCart",onClick:function(){return function(){return b.apply(this,arguments)}()}},"Adicionar ao carrinho")))))}),j=function(){return c.a.createElement(A.c,null,c.a.createElement(A.a,{exact:!0,path:"/",component:h}),c.a.createElement(A.a,{exact:!0,path:"/produto/:code_color",component:C}))};function w(e){return parseFloat(e.replace(/[^,0-9]/g,"").replace(",","."))}a(46);var x=function(e){var t=e.product_info,a=e.context,r=void 0!==a&&a,n=r?t.product_info:t,o=Object(_.b)(),i=function(){var e=Object(l.a)(s.a.mark((function e(a,r,c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c<0&&1===t.quantity?o(g(a,r)):o(T(a,r,c));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"cart__product"},c.a.createElement(u.b,{to:"/produto/".concat(n.code_color)},c.a.createElement("div",{className:"cart__product__content"},c.a.createElement("figure",{className:"cart__product__image"},c.a.createElement("img",{src:n.image||d,alt:n.name})),c.a.createElement("div",{className:"cart__product__info"},c.a.createElement("p",{className:"cart__product__name"},n.name),r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"cart__product__size"},c.a.createElement("span",null,"Tam.: ",n.size)),c.a.createElement("div",{className:"cart__product__quantity"},c.a.createElement("button",{className:"cart__product__icons",onClick:function(){i(n.code_color,n.size,-1)}},c.a.createElement("i",{className:"fas fa-minus"})),c.a.createElement("div",{className:"cart__product__input"},t.quantity),c.a.createElement("button",{className:"cart__product__icons",onClick:function(){i(n.code_color,n.size,1)}},c.a.createElement("i",{className:"fas fa-plus"}))))),c.a.createElement("div",{className:"cart__product__pricing"},c.a.createElement("div",{className:"cart__product__price"},n.actual_price),c.a.createElement("div",{className:"cart__product__installments"},n.installments)))),r&&c.a.createElement("div",{className:"cart__product__remove",onClick:function(){return o(g(n.code_color,n.size))}},c.a.createElement("span",null," Remover item ")))},z=(a(47),function(){var e,t=Object(_.b)(),a=Object(_.c)((function(e){return e.drawerReducer})),r=a.searchedProducts,n=Object(_.c)((function(e){return e.productsReducer})).products,o=Object(_.c)((function(e){return e.cartReducer})),u=o.cart,i=o.total_value,d=o.counter,m=a.visible,A=a.cartContext,f=a.searchContext;function E(){return(E=Object(l.a)(s.a.mark((function e(a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,a.target.value.toUpperCase();case 3:if(r=e.sent,0!==n.length){e.next=7;break}return e.next=7,N(t);case 7:return e.next=9,n.filter((function(e){return e.name.includes(r)}));case 9:return c=e.sent,e.next=12,t(p(c));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement("div",{className:"drawer ".concat(m?"drawer--is-visible":"")},c.a.createElement("header",{className:"drawer__header"},c.a.createElement("div",{className:"drawer__header__title"},c.a.createElement("div",{className:"drawer__header__icons"},c.a.createElement("button",{className:"drawer__header__button--back",onClick:function(){return t({type:"DRAWER_CLOSE",payload:!1})}},c.a.createElement("i",{className:"fas fa-arrow-left"}))),c.a.createElement("div",{className:"drawer__header__title__info"},A&&!f?c.a.createElement("span",null,"Sacola (".concat(d,")")):c.a.createElement("span",null,"Buscar Produtos")))),c.a.createElement("div",{className:"drawer__content"},!A&&f&&c.a.createElement("div",{className:"drawer__search"},c.a.createElement("input",{className:"drawer__search__input",type:"text",placeholder:"Buscar por produto...",onChange:function(e){return function(e){return E.apply(this,arguments)}(e)}})),f?c.a.createElement("div",{className:"drawer__product-list search-context"},r.map((function(e){return c.a.createElement(x,{key:e.code_color,product_info:e})}))):c.a.createElement("div",{className:"drawer__product-list"},u?u.map((function(e,t){return c.a.createElement(x,{key:t,product_info:e,context:!0})})):c.a.createElement("span",{className:"cart__empty"},"Sua sacola est\xe1 vazia :\\")),A&&c.a.createElement("div",{className:"drawer__footer"},c.a.createElement("span",null,"Subtotal - ",(e=i,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e))))))});var D=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(u.a,null,c.a.createElement(m,null),c.a.createElement(j,null),c.a.createElement(z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(27),k=a(14),W=a(1),U={pending:!1,products:[],error:null};var q={visible:!1,cartContext:!0,searchContext:!1,counter:0,searchedProducts:[]};var X={cart:[],total_value:0,counter:0};var I={product_info:{name:"",style:"",code_color:"",color_slug:"",color:"",on_sale:!0,regular_price:"",actual_price:"",discount_percentage:"",installments:"",image:"",size:""},quantity:0,sizeSelected:!0};var V=Object(k.c)({productsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_PENDING":return Object(W.a)(Object(W.a)({},e),{},{pending:!0});case"FETCH_PRODUCTS_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{pending:!1,products:t.payload});case"FETCH_PRODUCTS_ERROR":return Object(W.a)(Object(W.a)({},e),{},{pending:!1,error:t.payload});default:return e}},drawerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DRAWER_OPEN":case"DRAWER_CLOSE":return Object(W.a)(Object(W.a)({},e),{},{visible:t.payload});case"DRAWER_OPEN_SEARCH_CONTEXT":return Object(W.a)(Object(W.a)({},e),{},{visible:t.payload,searchContext:t.payload,cartContext:!t.payload});case"DRAWER_OPEN_CART_CONTEXT":return Object(W.a)(Object(W.a)({},e),{},{visible:t.payload,searchContext:!t.payload,cartContext:t.payload});case"SET_SEARCHED_PRODUCTS":return Object(W.a)(Object(W.a)({},e),{},{searchedProducts:Object(v.a)(t.data)});default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT":return e.total_value+=w(t.data.product_info.actual_price),Object(W.a)(Object(W.a)({},e),{},{cart:[].concat(Object(v.a)(e.cart),[t.data]),counter:++e.counter});case"REMOVE_PRODUCT":var a=e.cart.find((function(e){return e.product_info.code_color===t.product_id&&e.product_info.size===t.product_size})),r=a.quantity*w(a.product_info.actual_price),c=e.cart.filter((function(e){return e.product_info.code_color!==t.product_id||e.product_info.size!==t.product_size}));return Object(W.a)(Object(W.a)({},e),{},{counter:e.counter-=a.quantity,cart:c,total_value:e.total_value-r});case"UPDATE_CART_PRODUCT_QUANTITY":var n=e.cart.find((function(e){return e.product_info.code_color===t.product_id&&e.product_info.size===t.product_size}));return 0===n.quantity?t.value>0&&(e.cart.find((function(e){return e.product_info.code_color===t.product_id&&e.product_info.size===t.product_size})).quantity+=t.value):e.cart.find((function(e){return e.product_info.code_color===t.product_id&&e.product_info.size===t.product_size})).quantity+=t.value,t.value>0?(e.total_value+=w(n.product_info.actual_price),++e.counter):(e.total_value-=w(n.product_info.actual_price),--e.counter),Object(W.a)({},e);default:return e}},productReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCT_TO_BUY":return{product_info:t.payload,quantity:1};case"SET_SIZE_PRODUCT_TO_BUY":return Object(W.a)(Object(W.a)({},e),{},{product_info:Object(W.a)(Object(W.a)({},e.product_info),{},{size:t.payload})});default:return e}}}),B=Object(k.d)(V,Object(k.a)(P.a));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(_.a,{store:B},c.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.51c4e38d.chunk.js.map