{"ast":null,"code":"import { connect } from \"react-redux\";\nimport { useState } from 'react';\nimport { fetchProductsPending, fetchProductsSuccess, fetchProductsError } from '../store/actions/actions';\nconst BASE_URL = \"https://5e9935925eabe7001681c856.mockapi.io/api/v1/catalog/\";\nexport function fetchProducts() {\n  return dispatch => {\n    dispatch(fetchProductsPending());\n    fetch(BASE_URL).then(res => res.json()).then(res => {\n      console.log(res.products);\n\n      if (res.error) {\n        throw res.error;\n      }\n\n      dispatch(fetchProductsSuccess(res.products));\n      return res.products;\n    }).catch(error => {\n      dispatch(fetchProductsError(error));\n    });\n  };\n}","map":{"version":3,"sources":["/home/carrocinha/codenation/fashionista/src/services/api.js"],"names":["connect","useState","fetchProductsPending","fetchProductsSuccess","fetchProductsError","BASE_URL","fetchProducts","dispatch","fetch","then","res","json","console","log","products","error","catch"],"mappings":"AAAA,SACIA,OADJ,QAEO,aAFP;AAGA,SACIC,QADJ,QAEO,OAFP;AAIA,SACIC,oBADJ,EAEIC,oBAFJ,EAGIC,kBAHJ,QAIO,0BAJP;AAMA,MAAMC,QAAQ,GAAG,6DAAjB;AAEA,OAAO,SAASC,aAAT,GAAyB;AAC5B,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACL,oBAAoB,EAArB,CAAR;AACAM,IAAAA,KAAK,CAACH,QAAD,CAAL,CACKI,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUC,GAAG,IAAI;AACTE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,QAAhB;;AACA,UAAIJ,GAAG,CAACK,KAAR,EAAe;AACX,cAAOL,GAAG,CAACK,KAAX;AACH;;AACDR,MAAAA,QAAQ,CAACJ,oBAAoB,CAACO,GAAG,CAACI,QAAL,CAArB,CAAR;AACA,aAAOJ,GAAG,CAACI,QAAX;AACH,KATL,EAUKE,KAVL,CAUWD,KAAK,IAAI;AACZR,MAAAA,QAAQ,CAACH,kBAAkB,CAACW,KAAD,CAAnB,CAAR;AACH,KAZL;AAaH,GAfD;AAgBH","sourcesContent":["import {\n    connect\n} from \"react-redux\";\nimport {\n    useState\n} from 'react';\n\nimport {\n    fetchProductsPending,\n    fetchProductsSuccess,\n    fetchProductsError\n} from '../store/actions/actions';\n\nconst BASE_URL = \"https://5e9935925eabe7001681c856.mockapi.io/api/v1/catalog/\";\n\nexport function fetchProducts() {\n    return dispatch => {\n        dispatch(fetchProductsPending());\n        fetch(BASE_URL)\n            .then(res => res.json())\n            .then(res => {\n                console.log(res.products);\n                if (res.error) {\n                    throw (res.error);\n                }\n                dispatch(fetchProductsSuccess(res.products));                \n                return res.products;\n            })\n            .catch(error => {\n                dispatch(fetchProductsError(error));\n            });\n    }\n}"]},"metadata":{},"sourceType":"module"}