{"ast":null,"code":"var _jsxFileName = \"/home/carrocinha/codenation/fashionista/src/containers/Drawer/Drawer.jsx\";\nimport React from 'react';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { closeDrawerAction, setSearchedProducts } from \"../../store/actions/drawerActions\";\nimport { getProducts } from \"../../store/actions/productsActions\";\nimport { formatPriceToBRL } from \"../../utils/converters\";\nimport CartProduct from '../../components/CartProduct/CartProduct';\nimport \"./Drawer.css\";\n\nconst Drawer = () => {\n  const dispatch = useDispatch();\n  const store = useSelector(state => state.drawerReducer);\n  const searchedProducts = store.searchedProducts;\n  const {\n    products\n  } = useSelector(state => state.productsReducer);\n  const {\n    cart,\n    total_value,\n    counter\n  } = useSelector(state => state.cartReducer);\n  const {\n    visible,\n    cartContext,\n    searchContext\n  } = store;\n\n  async function handleSearchProducts(event) {\n    event.preventDefault();\n    const searchText = await event.target.value.toUpperCase();\n    if (products.length === 0) await getProducts(dispatch);\n    const aux = await products.filter(p => p.name.includes(searchText));\n    await dispatch(setSearchedProducts(aux));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `drawer ${visible ? 'drawer--is-visible' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"drawer__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawer__header__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawer__header__icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"drawer__header__button--back\",\n    onClick: () => dispatch(closeDrawerAction()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawer__header__title__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, cartContext && !searchContext ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 46\n    }\n  }, `Sacola (${counter})`) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 85\n    }\n  }, \"Buscar Produtos\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawer__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, !cartContext && searchContext && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawer__search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"drawer__search__input\",\n    type: \"text\",\n    placeholder: \"Buscar por produto...\",\n    onChange: event => handleSearchProducts(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  })), searchContext ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawer__product-list search-context\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, searchedProducts.map(p => /*#__PURE__*/React.createElement(CartProduct, {\n    key: p.code_color,\n    product_info: p,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawer__product-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, cart ? cart.map((p, index) => /*#__PURE__*/React.createElement(CartProduct, {\n    key: index,\n    product_info: p,\n    context: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 42\n    }\n  })) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"cart__empty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, \"Sua sacola est\\xE1 vazia :\\\\\")), cartContext && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawer__footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 41\n    }\n  }, \"Subtotal - \", formatPriceToBRL(total_value)))));\n};\n/*\nconst mapStateToProps = state => {\n  const { drawer } = state;\n\n  return {\n    drawer: {\n      visible: state.drawerReducer.drawer.visible,\n      cartContext: state.drawerReducer.drawer.cartContext,\n      searchContext: state.drawerReducer.drawer.searchContext,\n      counter: state.drawerReducer.drawer.counter,\n    }\n  };\n}\nexport default connect(mapStateToProps)(Drawer);\n*/\n\n\nexport default Drawer;","map":{"version":3,"sources":["/home/carrocinha/codenation/fashionista/src/containers/Drawer/Drawer.jsx"],"names":["React","useSelector","useDispatch","closeDrawerAction","setSearchedProducts","getProducts","formatPriceToBRL","CartProduct","Drawer","dispatch","store","state","drawerReducer","searchedProducts","products","productsReducer","cart","total_value","counter","cartReducer","visible","cartContext","searchContext","handleSearchProducts","event","preventDefault","searchText","target","value","toUpperCase","length","aux","filter","p","name","includes","map","code_color","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { closeDrawerAction, setSearchedProducts } from \"../../store/actions/drawerActions\";\nimport { getProducts } from \"../../store/actions/productsActions\";\nimport { formatPriceToBRL } from \"../../utils/converters\";\n\n\nimport CartProduct from '../../components/CartProduct/CartProduct';\n\nimport \"./Drawer.css\";\n\n\nconst Drawer = () => {\n\n  const dispatch = useDispatch();\n\n  const store = useSelector(state => state.drawerReducer);\n  const searchedProducts = store.searchedProducts;\n\n  const { products } = useSelector(state => state.productsReducer);\n  const { cart, total_value, counter } = useSelector(state => state.cartReducer);\n\n  const {\n    visible,\n    cartContext,\n    searchContext,\n  } = store;\n\n  async function handleSearchProducts(event) {\n    event.preventDefault();\n    const searchText = await event.target.value.toUpperCase();\n\n    if (products.length === 0) await getProducts(dispatch);\n\n    const aux = await products.filter((p) => p.name.includes(searchText));\n\n    await dispatch(setSearchedProducts(aux));\n  }\n\n  return (\n    <div className={`drawer ${visible ? 'drawer--is-visible' : ''}`}>\n      <header className=\"drawer__header\">\n        <div className=\"drawer__header__title\">\n          <div className=\"drawer__header__icons\">\n            <button className=\"drawer__header__button--back\" onClick={() => dispatch(closeDrawerAction())}>\n              <i className=\"fas fa-arrow-left\"></i>\n            </button>\n          </div>\n\n          <div className=\"drawer__header__title__info\">\n            {cartContext && !searchContext ? <span>{`Sacola (${counter})`}</span> : <span>{\"Buscar Produtos\"}</span>}\n          </div>\n        </div>\n\n      </header>\n\n      <div className=\"drawer__content\">\n        {\n          !cartContext && searchContext &&\n          <div className=\"drawer__search\">\n            <input\n              className=\"drawer__search__input\"\n              type=\"text\"\n              placeholder=\"Buscar por produto...\"\n              onChange={(event) => handleSearchProducts(event)}\n            />\n          </div>\n        }\n        {\n          searchContext ?\n            <div className=\"drawer__product-list search-context\">\n              {\n                searchedProducts.map(p => (\n                  <CartProduct key={p.code_color} product_info={p} />\n                ))\n              }\n            </div>\n            :\n            <div className=\"drawer__product-list\">\n              {\n                cart ?\n                  cart.map((p, index) => <CartProduct key={index} product_info={p} context={true} />)\n                  :\n                  <span className=\"cart__empty\">Sua sacola está vazia :\\</span>\n              }\n            </div>\n        }\n        {\n          cartContext &&\n        <div className=\"drawer__footer\"><span>Subtotal - {formatPriceToBRL(total_value)}</span></div>\n        }\n      </div>\n    </div>\n  )\n};\n\n/*\nconst mapStateToProps = state => {\n  const { drawer } = state;\n\n  return {\n    drawer: {\n      visible: state.drawerReducer.drawer.visible,\n      cartContext: state.drawerReducer.drawer.cartContext,\n      searchContext: state.drawerReducer.drawer.searchContext,\n      counter: state.drawerReducer.drawer.counter,\n    }\n  };\n}\nexport default connect(mapStateToProps)(Drawer);\n*/\n\nexport default Drawer;"]},"metadata":{},"sourceType":"module"}