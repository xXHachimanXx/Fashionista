{"ast":null,"code":"import { connect } from \"react-redux\";\nimport { useState } from 'react';\nconst BASE_URL = \"https://5e9935925eabe7001681c856.mockapi.io/api/v1/catalog/\";\nimport { fetchProductsPending, fetchProductsSuccess, fetchProductsError } from '../store/actions/actions';\n\nfunction fetchProducts() {\n  return dispatch => {\n    dispatch(fetchProductsPending());\n    fetch(BASE_URL).then(res => res.json()).then(res => {\n      if (res.error) {\n        throw res.error;\n      }\n\n      dispatch(fetchProductsSuccess(res.products));\n      return res.products;\n    }).catch(error => {\n      dispatch(fetchProductsError(error));\n    });\n  };\n}\n\nexport default fetchProducts;","map":{"version":3,"sources":["/home/carrocinha/codenation/fashionista/src/services/api.js"],"names":["connect","useState","BASE_URL","fetchProductsPending","fetchProductsSuccess","fetchProductsError","fetchProducts","dispatch","fetch","then","res","json","error","products","catch"],"mappings":"AAAA,SACIA,OADJ,QAEO,aAFP;AAGA,SACIC,QADJ,QAEO,OAFP;AAIA,MAAMC,QAAQ,GAAG,6DAAjB;AAEA,SACIC,oBADJ,EAEIC,oBAFJ,EAGIC,kBAHJ,QAIO,0BAJP;;AAMA,SAASC,aAAT,GAAyB;AACrB,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACJ,oBAAoB,EAArB,CAAR;AACAK,IAAAA,KAAK,CAACN,QAAD,CAAL,CACKO,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUC,GAAG,IAAI;AACL,UAAIA,GAAG,CAACE,KAAR,EAAe;AACX,cAAOF,GAAG,CAACE,KAAX;AACH;;AACDL,MAAAA,QAAQ,CAACH,oBAAoB,CAACM,GAAG,CAACG,QAAL,CAArB,CAAR;AACI,aAAOH,GAAG,CAACG,QAAX;AACH,KARb,EASSC,KATT,CASeF,KAAK,IAAI;AACZL,MAAAA,QAAQ,CAACF,kBAAkB,CAACO,KAAD,CAAnB,CAAR;AACH,KAXT;AAYK,GAdT;AAeC;;AAED,eAAeN,aAAf","sourcesContent":["import {\n    connect\n} from \"react-redux\";\nimport {\n    useState\n} from 'react';\n\nconst BASE_URL = \"https://5e9935925eabe7001681c856.mockapi.io/api/v1/catalog/\";\n\nimport {\n    fetchProductsPending,\n    fetchProductsSuccess,\n    fetchProductsError\n} from '../store/actions/actions';\n\nfunction fetchProducts() {\n    return dispatch => {\n        dispatch(fetchProductsPending());\n        fetch(BASE_URL)\n            .then(res => res.json())\n            .then(res => {\n                    if (res.error) {\n                        throw (res.error);\n                    }\n                    dispatch(fetchProductsSuccess(res.products));\n                        return res.products;\n                    })\n                .catch(error => {\n                    dispatch(fetchProductsError(error));\n                })\n            }\n    }\n\n    export default fetchProducts;"]},"metadata":{},"sourceType":"module"}