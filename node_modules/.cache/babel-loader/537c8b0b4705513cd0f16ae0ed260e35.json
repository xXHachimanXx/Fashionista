{"ast":null,"code":"import { connect } from \"react-redux\";\nimport { useState } from 'react';\nimport { fetchProductsPending, fetchProductsSuccess, fetchProductsError } from '../store/actions/actions';\nconst BASE_URL = \"https://5e9935925eabe7001681c856.mockapi.io/api/v1/catalog/\";\n\nfunction fetchProducts() {\n  return dispatch => {\n    dispatch(fetchProductsPending());\n    fetch(BASE_URL).then(res => res.json()).then(res => {\n      if (res.error) {\n        throw res.error;\n      }\n\n      dispatch(fetchProductsSuccess(res.products));\n      return res.products;\n    }).catch(error => {\n      dispatch(fetchProductsError(error));\n    });\n  };\n}\n\nexport default fetchProducts;","map":{"version":3,"sources":["/home/carrocinha/codenation/fashionista/src/services/api.js"],"names":["connect","useState","fetchProductsPending","fetchProductsSuccess","fetchProductsError","BASE_URL","fetchProducts","dispatch","fetch","then","res","json","error","products","catch"],"mappings":"AAAA,SACIA,OADJ,QAEO,aAFP;AAGA,SACIC,QADJ,QAEO,OAFP;AAIA,SACIC,oBADJ,EAEIC,oBAFJ,EAGIC,kBAHJ,QAIO,0BAJP;AAMA,MAAMC,QAAQ,GAAG,6DAAjB;;AAEA,SAASC,aAAT,GAAyB;AACrB,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACL,oBAAoB,EAArB,CAAR;AACAM,IAAAA,KAAK,CAACH,QAAD,CAAL,CACKI,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUC,GAAG,IAAI;AACT,UAAIA,GAAG,CAACE,KAAR,EAAe;AACX,cAAOF,GAAG,CAACE,KAAX;AACH;;AACDL,MAAAA,QAAQ,CAACJ,oBAAoB,CAACO,GAAG,CAACG,QAAL,CAArB,CAAR;AACA,aAAOH,GAAG,CAACG,QAAX;AACH,KARL,EASKC,KATL,CASWF,KAAK,IAAI;AACZL,MAAAA,QAAQ,CAACH,kBAAkB,CAACQ,KAAD,CAAnB,CAAR;AACH,KAXL;AAYH,GAdD;AAeH;;AAED,eAAeN,aAAf","sourcesContent":["import {\n    connect\n} from \"react-redux\";\nimport {\n    useState\n} from 'react';\n\nimport {\n    fetchProductsPending,\n    fetchProductsSuccess,\n    fetchProductsError\n} from '../store/actions/actions';\n\nconst BASE_URL = \"https://5e9935925eabe7001681c856.mockapi.io/api/v1/catalog/\";\n\nfunction fetchProducts() {\n    return dispatch => {\n        dispatch(fetchProductsPending());\n        fetch(BASE_URL)\n            .then(res => res.json())\n            .then(res => {\n                if (res.error) {\n                    throw (res.error);\n                }\n                dispatch(fetchProductsSuccess(res.products));\n                return res.products;\n            })\n            .catch(error => {\n                dispatch(fetchProductsError(error));\n            })\n    }\n}\n\nexport default fetchProducts;"]},"metadata":{},"sourceType":"module"}