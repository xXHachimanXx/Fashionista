{"ast":null,"code":"import { ADD_PRODUCT, REMOVE_PRODUCT, INCREASE_CART_PRODUCT_QUANTITY, DECREASE_CART_PRODUCT_QUANTITY, UPDATE_CART_PRODUCT_QUANTITY } from '../actions/cartActions';\nexport const INITIAL_STATE = {\n  cart: [],\n  total_value: 0.0\n}; // falta melhorias\n\nexport default function cartReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case ADD_PRODUCT:\n      return { ...state,\n        cart: [...state.cart, action.data]\n      };\n\n    case REMOVE_PRODUCT:\n      state.cart.filter(product => product.code_color !== action.product_id);\n      return { ...state\n      };\n\n    case INCREASE_CART_PRODUCT_QUANTITY:\n      return { ...state,\n        cart: [...state.cart, state.cart.find(product => product.code_color !== action.product_id).quantity++]\n      };\n\n    case DECREASE_CART_PRODUCT_QUANTITY:\n      return { ...state,\n        cart: [...state.cart, state.cart.find(product => product.code_color !== action.product_id).quantity--]\n      };\n\n    case UPDATE_CART_PRODUCT_QUANTITY:\n      var q = state.cart.find(product => product.product_info.code_color === action.product_id).quantity;\n\n      if (q === 0) {\n        if (action.value > 0) {\n          state.cart.find(product => product.product_info.code_color === action.product_id).quantity += action.value;\n        }\n      } else {\n        state.cart.find(product => product.product_info.code_color === action.product_id).quantity += action.value;\n      }\n\n      return { ...state\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/carrocinha/codenation/fashionista/src/store/reducers/cartReducer.js"],"names":["ADD_PRODUCT","REMOVE_PRODUCT","INCREASE_CART_PRODUCT_QUANTITY","DECREASE_CART_PRODUCT_QUANTITY","UPDATE_CART_PRODUCT_QUANTITY","INITIAL_STATE","cart","total_value","cartReducer","state","action","type","data","filter","product","code_color","product_id","find","quantity","q","product_info","value"],"mappings":"AAAA,SACEA,WADF,EAEEC,cAFF,EAGEC,8BAHF,EAIEC,8BAJF,EAKEC,4BALF,QAMO,wBANP;AAQA,OAAO,MAAMC,aAAa,GAAG;AAC3BC,EAAAA,IAAI,EAAE,EADqB;AAE3BC,EAAAA,WAAW,EAAE;AAFc,CAAtB,C,CAMP;;AACA,eAAe,SAASC,WAAT,CAAqBC,KAAK,GAAGJ,aAA7B,EAA4CK,MAA5C,EAAoD;AACjE,UAAQA,MAAM,CAACC,IAAf;AAEE,SAAKX,WAAL;AACE,aAAO,EACL,GAAGS,KADE;AAELH,QAAAA,IAAI,EAAE,CAAC,GAAGG,KAAK,CAACH,IAAV,EAAgBI,MAAM,CAACE,IAAvB;AAFD,OAAP;;AAKF,SAAKX,cAAL;AACEQ,MAAAA,KAAK,CAACH,IAAN,CACGO,MADH,CACUC,OAAO,IAAIA,OAAO,CAACC,UAAR,KAAuBL,MAAM,CAACM,UADnD;AAEA,aAAO,EACL,GAAGP;AADE,OAAP;;AAIF,SAAKP,8BAAL;AACE,aAAO,EACL,GAAGO,KADE;AAELH,QAAAA,IAAI,EAAE,CACJ,GAAGG,KAAK,CAACH,IADL,EAEJG,KAAK,CAACH,IAAN,CACGW,IADH,CACQH,OAAO,IAAIA,OAAO,CAACC,UAAR,KAAuBL,MAAM,CAACM,UADjD,EAEGE,QAFH,EAFI;AAFD,OAAP;;AAUF,SAAKf,8BAAL;AACE,aAAO,EACL,GAAGM,KADE;AAELH,QAAAA,IAAI,EAAE,CACJ,GAAGG,KAAK,CAACH,IADL,EAEJG,KAAK,CAACH,IAAN,CACGW,IADH,CACQH,OAAO,IAAIA,OAAO,CAACC,UAAR,KAAuBL,MAAM,CAACM,UADjD,EAEGE,QAFH,EAFI;AAFD,OAAP;;AASF,SAAKd,4BAAL;AAEE,UAAIe,CAAC,GAAGV,KAAK,CAACH,IAAN,CAAWW,IAAX,CAAgBH,OAAO,IAC7BA,OAAO,CAACM,YAAR,CAAqBL,UAArB,KAAoCL,MAAM,CAACM,UADrC,EAENE,QAFF;;AAIA,UAAIC,CAAC,KAAK,CAAV,EAAa;AACX,YAAGT,MAAM,CAACW,KAAP,GAAe,CAAlB,EAAqB;AACnBZ,UAAAA,KAAK,CAACH,IAAN,CAAWW,IAAX,CAAgBH,OAAO,IACrBA,OAAO,CAACM,YAAR,CAAqBL,UAArB,KAAoCL,MAAM,CAACM,UAD7C,EAEEE,QAFF,IAEcR,MAAM,CAACW,KAFrB;AAGD;AACF,OAND,MAOK;AACHZ,QAAAA,KAAK,CAACH,IAAN,CAAWW,IAAX,CAAgBH,OAAO,IACrBA,OAAO,CAACM,YAAR,CAAqBL,UAArB,KAAoCL,MAAM,CAACM,UAD7C,EAEEE,QAFF,IAEcR,MAAM,CAACW,KAFrB;AAGD;;AAED,aAAO,EACL,GAAGZ;AADE,OAAP;;AAIF;AACE,aAAOA,KAAP;AA5DJ;AA8DD","sourcesContent":["import {\n  ADD_PRODUCT,\n  REMOVE_PRODUCT,\n  INCREASE_CART_PRODUCT_QUANTITY,\n  DECREASE_CART_PRODUCT_QUANTITY,\n  UPDATE_CART_PRODUCT_QUANTITY\n} from '../actions/cartActions';\n\nexport const INITIAL_STATE = {\n  cart: [],\n  total_value: 0.0,\n\n};\n\n// falta melhorias\nexport default function cartReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n\n    case ADD_PRODUCT:\n      return {\n        ...state,\n        cart: [...state.cart, action.data]\n      }\n\n    case REMOVE_PRODUCT:\n      state.cart\n        .filter(product => product.code_color !== action.product_id)\n      return {\n        ...state,\n      }\n\n    case INCREASE_CART_PRODUCT_QUANTITY:\n      return {\n        ...state,\n        cart: [\n          ...state.cart,\n          state.cart\n            .find(product => product.code_color !== action.product_id)\n            .quantity++\n        ]\n      }\n\n    case DECREASE_CART_PRODUCT_QUANTITY:\n      return {\n        ...state,\n        cart: [\n          ...state.cart,\n          state.cart\n            .find(product => product.code_color !== action.product_id)\n            .quantity--\n        ]\n      }\n    case UPDATE_CART_PRODUCT_QUANTITY:\n\n      var q = state.cart.find(product =>\n        product.product_info.code_color === action.product_id\n      ).quantity;\n\n      if (q === 0) {\n        if(action.value > 0) {\n          state.cart.find(product =>\n            product.product_info.code_color === action.product_id\n          ).quantity += action.value;\n        }\n      }\n      else {\n        state.cart.find(product =>\n          product.product_info.code_color === action.product_id\n        ).quantity += action.value;\n      }\n\n      return {\n        ...state,\n      }\n\n    default:\n      return state;\n  }\n}"]},"metadata":{},"sourceType":"module"}